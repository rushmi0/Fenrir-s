### การทำงานรวม

1. **การเชื่อมต่อ WebSocket:** เมื่อมีการเชื่อมต่อใหม่, Gateway จะจัดการกับการเปิดและปิดการเชื่อมต่อ รวมถึงรับและส่งข้อความ
2. **การจัดการเหตุการณ์:** เมื่อมีเหตุการณ์เข้ามา, BasicProtocolFlow จะตรวจสอบนโยบายต่าง ๆ และจัดการเหตุการณ์ตามนั้น
3. **การตอบกลับ:** การตอบกลับจะถูกจัดการโดย RelayResponse ซึ่งสามารถมีหลายประเภทของการตอบกลับ